{%extends "base.html" %}
{% block body %}

<h2>{{japanese_word}}</h2>

<p><a href="{{url_for('edit.show_hints', e=question.element)}}">問題一覧に戻る</a></p>

<table>
    <tr>
        <th>日本語</th>
        <th>韓国語(候補)</th>
    </tr>
    <tr>
        <td>{{japanese_word}}</td>
        <td>{{translated_word}}
            <form action="{{url_for('edit.add_word_hint')}}" method="POST">
                <input type="hidden" name="question_id" value="{{question.id}}">
                <input type="hidden" name="japanese_word" value="{{japanese_word}}">
                <input type="hidden" name="foreign_word" value="{{translated_word}}">
                <button>追加する</button>
            </form>

        </td>
    </tr>
</table>

<table>
    <tr>
        <th>id</th>
        <th>日本語</th>
        <th>韓国語</th>
    </tr>
    <tr>
        <td rowspan="2">{{question.id}}</td>
        <td>{{question.japanese}}</td>
        <td>{{question.foreign_l}}</td>
    </tr>
    <tr>
        <td>
            <div class="flex">
            {% for japanese_word in question['japanese_word'] %}
            <form action="{{url_for('edit.confirm_hint_j')}}" method="POST">
                <input type="hidden" name="question_id" value="{{question.id}}">
                <input type="hidden" name="japanese_word" value="{{japanese_word}}">
                <button>{{japanese_word}}</button>
            </form>
            {% endfor %}
            </div>
        </td>
        <td>
            <div class="flex">
            {% for foreign_word in question['foreign_word'] %}
            {% if not foword == '.' %}
            <form action="{{url_for('edit.add_word_hint')}}" method="POST">
                <input type="hidden" name="question_id" value="{{question.id}}">
                <input type="hidden" name="japanese_word" value="{{japanese_word}}"> 
                <input type="hidden" name="foreign_word" value="{{foreign_word}}">
                <button>{{foreign_word}}</button>
            </form>
            {% else %}
            {% endif %}
            {% endfor %}
            </div>
        </td>
    </tr>
</table>


<h3>登録されているヒント</h3>

{% if hint_existed %}
<p style="color:red">登録されています。</p>
{% endif %}

<table>
    <tr>
        <th>日本語</th>
        <th>韓国語</th>
    </tr>
    {% for word in words %}
    <tr>
        {% if japanese_word == word['japanese'] %}
        <td style="color:red">{{word['japanese']}}</td>
        {% else %}
        <td>{{word['japanese']}}</td>
        {% endif %}
        
        <td>{{word['foreign_l']}}</td>
    </tr>
    {% endfor %}
    {% if not words[0] %}
    <tr>
        <td colspan="2">登録ヒントなし</td>
    </tr>
    {% endif %}
</table>

<h3>登録されている単語</h3>
<table>
    <tr>
        <th>id</th>
        <th>日本語</th>
        <th>韓国語</th>
        <th>操作</th>
    </tr>
{% for japanese_word in japanese_words %}
<tr>
    <td>{{japanese_word['id']}}</td>
    <td>{{japanese_word['japanese']}}</td>
    <td>{{japanese_word['foreign_l']}}</td>
    <td><a href="{{url_for('edit.add_hint', q=question.id, w=japanese_word['id'])}}">追加する</td>
</tr>
{% endfor %}
{% if not japanese_words[0] %}
<tr>
    <td colspan="4">登録単語なし</td>
</tr>
{% endif %}
</table>


<p><a href="{{url_for('edit.show_hints', e=question.element)}}">問題一覧に戻る</a></p>


{% endblock %}