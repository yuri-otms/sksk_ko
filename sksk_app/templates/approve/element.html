{% extends "base.html" %}

{% block body %}

<h1>項目</h1>


<p><a href="{{url_for('approve.index')}}">承認トップページ</a></p>

<div class="flex">
    <select name="grade" id="grade" onchange="location.href=value">
        {% for grade in grades %}
        <option value="{{url_for('approve.element', l=grade.id)}}#element">{{grade.grade}}</option>
        {% endfor %}
    </select>
    
    
    <select name="e_group_id" id="e_group" onchange="location.href=value">
        {% for e_group in e_groups %}
        <option value="{{url_for('approve.element',l=grade_id,g=e_group.id)}}#element">{{e_group.e_group}}</option>
        {% endfor %}
    </select>
    
    </div>

<table>
    <tr>
        <th>項目</th>
        <th>説明</th>
        <th>公開設定</th>
    </tr>
    {% for element in elements %}
    <tr>
        <td>{{element.element}}</td>
        <td>{{element.element}}</td>
        <td>
            {% if element.released %}
            <a href="{{url_for('approve.change_element', e=element.id)}}">○</a> 
            {% else %}
            <a href="{{url_for('approve.change_element', e=element.id)}}">×</a> 
            {% endif %}
        </td>
    </tr>
    {% endfor %}
</table>


<p><a href="{{url_for('approve.index')}}">承認トップページ</a></p>



<script>


    let selected_grade = '{{grade.position}}' - 1;
    let selected_e_group = '{{e_group.position}}' - 1;
    // console.log(selected_e_group)
    document.getElementById("grade").options[selected_grade].selected = true;

    document.getElementById("e_group").options[selected_e_group].selected = true;

</script>

{% endblock %}